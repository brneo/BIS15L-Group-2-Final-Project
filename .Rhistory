theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
#geom_label_repel(aes(label = labels), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(segment.colour = NA, aes(label = labels), size =2, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 0.5)+
geom_text(aes(y = ypos, label = labels), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
#geom_label_repel(aes(label = labels), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(segment.colour = NA, aes(label = labels), size =2, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 0.5)+
geom_text(aes(y = ypos, label = labels), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
#geom_label_repel(aes(label = labels), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(segment.colour = NA, aes(label = labels), size =2, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 0.5)+
geom_text(aes(y = ypos, label = percent(labels/100), color = "black", size=5, angle = 0,) +
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
#geom_label_repel(aes(label = labels), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(segment.colour = NA, aes(label = labels), size =2, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 0.5)+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
install.packages(scales)
library(scales)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_label_repel(aes(percent(labels/100)), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_label_repel(aes(percent(labels/100)), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
install.packages("ggrepel")
install.packages("ggrepel")
```
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_label_repel(aes(percent(labels/100)), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
library("ggrepel")
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_label_repel(aes(percent(labels/100)), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_label_repel(aes(label = percent(labels/100)), size =1, arrow = arrow(length = unit(0.02, "npc")), show.legend = F, box.padding = 1)+
#geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=5, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=9, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=1, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=3, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(scales)
options(scipen=999) #disables scientific notation when printing
food_supply <- readr::read_csv("data/Food_Supply_Quantity_kg_Data.csv")
food_supply_clean <- janitor::clean_names(food_supply)
food_supply_clean
glimpse(food_supply_clean)
summary(food_supply_clean)
food_supply_clean %>%
naniar::miss_var_summary()
food_supply_clean %>%
select(country, deaths, population) %>%
arrange(desc(deaths)) %>%
head(n=3)
food_supply_clean %>%
select(country, deaths, population) %>%
arrange((deaths)) %>%
head(n=3)
food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom") %>%
group_by(country, deaths, population) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals))%>%
arrange(desc(total_protein_consumption))
food_supply_clean %>%
filter(country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic") %>%
group_by(country, deaths, population) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals)) %>%
arrange(-desc(total_protein_consumption))
food_supply_clean %>%
filter(country=="United States of America") %>%
group_by(country, deaths, population) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals))
protein_graph<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
group_by(country) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals)) %>%
ggplot(aes(x=reorder(country, total_protein_consumption), y=total_protein_consumption, fill=country))+
geom_col()+
coord_flip()+
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())+
labs(title = "Percentage of Protein Intake by Country (%)",
x=NULL,
y="Protein Consumption",
fill = "country")+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))
protein_graph
grains_highest <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter( country == "United Kingdom"| country == "Slovenia" | country == "Belgium"  ) %>%
summarize(total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices))
grains_highest
grains_lowest <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter( country == "Cambodia"| country == "Dominica" | country == "Lao People's Democratic Republic") %>%
summarize(total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices))
grains_lowest
grains_us <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter( country == "United States of America") %>%
summarize(total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices))
grains_us
grains_graph <-food_supply_clean %>%
group_by(country) %>%
filter( country == "Cambodia"| country == "Dominica" | country == "Lao People's Democratic Republic" | country == "United Kingdom"| country == "Slovenia" | country == "Belgium" | country == "United States of America") %>%
summarize(total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices)) %>%
ggplot(aes(x=reorder(country, total_grain_consumption), y=total_grain_consumption, fill=country))+
geom_col()+
coord_flip()+
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())+
labs(title = "Percentage of Grain Intake by Country (%)",
x=NULL,
y="Grain Consumption",
fill = "country")+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))
grains_graph
fruits_highest<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom") %>%
group_by(country, deaths, population) %>%
summarize(total_fruit_consumption = sum(fruits_excluding_wine, stimulants),.groups = 'keep') %>%
arrange(desc(deaths))
fruits_highest
fruits_lowest<-food_supply_clean %>%
filter(country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic") %>%
group_by(country, deaths, population) %>%
summarize(total_fruit_consumption = sum(fruits_excluding_wine, stimulants),.groups = 'keep') %>%
arrange(desc(deaths))
fruits_lowest
fruits_us<-food_supply_clean %>%
filter(country=="United States of America") %>%
group_by(country, deaths, population) %>%
summarize(total_fruit_consumption = sum(fruits_excluding_wine, stimulants),
.groups = 'keep')
fruits_us
fruits_graph<-food_supply_clean %>%
filter(country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"| country=="United States of America" | country=="Belgium"| country=="Slovenia"| country=="United Kingdom") %>%
group_by(country) %>%
summarize(total_fruit_consumption = sum(fruits_excluding_wine, stimulants),.groups = 'keep') %>%
ggplot(aes(x=reorder(country, total_fruit_consumption), y=total_fruit_consumption, fill=country))+
geom_col()+
coord_flip()+
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())+
labs(title = "Percentage of Fruit Intake by Country (%)",
x=NULL,
y="Fruit Consumption",
fill = "country")
fruits_graph
veggies_highest <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter(country == "Belgium" | country == "Slovenia" | country == "United Kingdom") %>%
summarise(total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products))
veggies_highest
veggies_lowest <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter(country == "Cambodia" | country == "Dominica" | country == "Lao People's Democratic Republic") %>%
summarise(total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products))
veggies_lowest
veggies_us <-food_supply_clean %>%
group_by(country, deaths, population) %>%
filter(country == "United States of America") %>%
summarise(total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products))
veggies_us
veggies_graph <-food_supply_clean %>%
group_by(country) %>%
filter( country == "Cambodia"| country == "Dominica" | country == "Lao People's Democratic Republic" | country == "United Kingdom"| country == "Slovenia" | country == "Belgium" | country == "United States of America") %>%
summarise(total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products)) %>%
ggplot(aes(x=reorder(country, total_veggie_consumption), y=total_veggie_consumption, fill=country))+
geom_col()+
coord_flip()+
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())+
labs(title = "Percentage of Vegetable Intake by Country (%)",
x=NULL,
y="Vegetable Consumption",
fill = "country")+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))
veggies_graph
total_food_consumption<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
select(country:obesity, deaths) %>%
group_by(country, deaths) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals),
total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products),
total_fruit_consumption = sum(fruits_excluding_wine, stimulants),
total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices), .groups = 'keep') %>%
arrange(desc(deaths))
total_food_consumption
obesity_scatter<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
select(country, obesity, deaths, population) %>%
group_by(country, obesity) %>%
ggplot(aes(x=country, y=obesity, color=country, shape=country)) +
geom_point(size=3) + #geom_smooth(method="lm", se=FALSE)+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))
obesity_scatter
undernourished_scatter<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
#select(country, undernourished, deaths, population) %>%
group_by(country, undernourished) %>%
ggplot(aes(x=country, y=undernourished, color=country, shape=country)) +
geom_point(size=3) + geom_smooth(method="lm", se=FALSE)+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))
undernourished_scatter
TFC_long <- total_food_consumption %>%
pivot_longer(-country,
names_to = "category",
values_to = "values")
TFC_long <- TFC_long %>%
filter(category != "deaths")
TFC_long
TFC_long %>%
ggplot(aes(x = "", y = values, fill = category))+
geom_col(stat = "identity", width = 1, position = 'fill')+
coord_polar(theta = "y")+
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())+
facet_wrap(~country) + theme_void()
food_supply_clean %>%
filter(country=="United States of America") %>%
group_by(country, deaths, population) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals),
total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products),
total_fruit_consumption = sum(fruits_excluding_wine, stimulants),
total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices),
.groups = 'keep') %>%
arrange(desc(deaths))
country_tfc<-food_supply_clean %>%
group_by(country, deaths, population) %>%
summarize(total_protein_consumption = sum(animal_fats, animal_products, aquatic_products_other, eggs, fish_seafood, meat, milk_excluding_butter, offals),
total_veggie_consumption = sum(starchy_roots, sugar_crops, sugar_sweeteners, treenuts, vegetable_oils, vegetables, vegetal_products),
total_fruit_consumption = sum(fruits_excluding_wine, stimulants),
total_grain_consumption = sum(alcoholic_beverages, cereals_excluding_beer, oilcrops, pulses, spices), .groups = 'keep') %>%
arrange(desc(deaths))
country_tfc
country_tfc_long <- country_tfc %>%
pivot_longer(-country,
names_to = "category",
values_to = "values")
country_tfc_long <- country_tfc_long %>%
filter(category != "deaths", category != "population")
country_tfc_long
food_supply_clean <- food_supply_clean %>%
mutate(undernourished= as.numeric(str_replace(undernourished, '<', '')))
undernourished_bar<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
select(country, undernourished, deaths, population) %>%
group_by(country, undernourished) %>%
ggplot(aes(x=country, y=undernourished, fill=country)) +
geom_col(alpha=0.5)+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))+
theme(legend.position = "none")+
labs(title = "Percentage of Global Undernourished Rates",
x = "Country",
y = "Undernourished Rate (%)")
undernourished_bar
obesity_bar<-food_supply_clean %>%
filter(country=="Belgium"| country=="Slovenia"| country=="United Kingdom"|country=="Cambodia"| country=="Dominica"| country=="Lao People's Democratic Republic"|country=="United States of America") %>%
select(country, obesity, deaths, population) %>%
group_by(country, obesity) %>%
ggplot(aes(x=country, y=obesity, fill=country, shape=country)) +
geom_col(alpha=0.5)+
theme(plot.title=element_text(hjust=0.5), axis.text.x = element_text(angle = 45, hjust=1))+
theme(legend.position = "none")+
labs(title = "Percentage of Global Obesity Rates",
x = "Country",
y = "Obesity Rate (%)")
obesity_bar
TFC_long %>%
mutate(pct = round(values, digits = 2))
cats <- TFC_long$category
cats <- str_replace(cats, c('total_protein_consumption'), replacement = 'Protein')
cats <- str_replace(cats, c('total_veggie_consumption'), replacement = 'Vegetables')
cats <- str_replace(cats, c('total_fruit_consumption'), replacement = 'Fruits')
cats <- str_replace(cats, c('total_grain_consumption'), replacement = 'Grains')
TFC_long2 <-TFC_long %>%
mutate(labels = round(values, digits = 2))
TFC_long2$grp = cats
sample <- TFC_long2 %>%
select(country, labels, grp)
sample2 <- sample %>%
arrange(desc(grp)) %>%
mutate(prop = labels/sum(sample$labels)*100) %>%
mutate(ypos = cumsum(prop)-0.5*prop)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Set1")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel1")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel3")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel5")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel4")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel3")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Pastel2")+
facet_wrap(~country)
ggplot(sample2, aes(x="", y = prop, fill = grp))+
geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) +
theme_void() +
theme(legend.position= "right") +
guides(fill = guide_legend(title = "Food Group"))+
geom_text(aes(y = ypos, label = percent(labels/100)), color = "black", size=2, angle = 0,) +
scale_fill_brewer(palette="Set2")+
facet_wrap(~country)
